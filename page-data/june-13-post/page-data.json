{"componentChunkName":"component---src-templates-blog-post-js","path":"/june-13-post/","result":{"data":{"site":{"siteMetadata":{"title":"지향이's Blog"}},"markdownRemark":{"id":"5a2a57a1-7871-5d80-966e-77b72c01f907","excerpt":"좋은 포스팅 보고 뚝딱뚝딱 댓글 앱 추가 했다. 나도 동일한 내용으로 포스팅 해보겠다. 일단 댓글 저장용 리포지토리를 생성한다.  Install Utterances 이 링크에서 앱을 설치하고 리포지토리를 연결해야한다. 다음 step…","html":"<p>좋은 포스팅 보고 뚝딱뚝딱 댓글 앱 추가 했다.<br>\n나도 동일한 내용으로 포스팅 해보겠다.<br>\n일단 댓글 저장용 리포지토리를 생성한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/73f6664b996ada247dc7d199fd1d0938/68638/github-comment-repo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABzElEQVR42pVT2VLbQBDUdxAItm6tDuuwrBM52AkQKnnIcyr//xmd6bVkZLvAxUPXzmo0PUfPGvd2iHQzoOz38JONoMTSTXC78PBlxNw+flv6uLl3wfhbS2EYnvH3zz8Yd6aCymqEeSPED8jrLcK0xlcrFOIYCyfCnQQsxGYw70svEb/SNnEjCbKix9P+NwwvSFCuGzh+Altl8KJCV+iEOeK8RSjJSMwk9Ln8XrSwghR+vNZ3VruQJJbYhisOWy62nJa/miHRRObom2z6aPOc7vQf4hMYrIrgTxMuf1ydJLxMPiGVCsMCWTVApZW0VenWHJUfZjVLcg4mPQdJDc6g7PZoH3+i2T6j371q1V2ZV7CqdKLDWcspWxCXehumli8I7SBD0exQb1+wefiBSkjbx1coITH1rFItgHXW5rsVktATtQLJOoG7yLkeCWYB16AJTS8+7tTSfZudOar5GRgUIJJdm6pjtf4MrOyaGCctO9LaupMZDk8afIKVzLL59qJFUqPqFIPJ3pvfCWHZf9dCdLtfiIpOC+GM+8m14quh6sRVQnt8QtxBrogjd1PmaI4zfGv3MN+PWiYMJ65hxy3sqNFwklbQfR6rXuIr/Ad50MPrp/V1GgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"깃허브 댓글 저장용 리포\"\n        title=\"\"\n        src=\"/static/73f6664b996ada247dc7d199fd1d0938/f058b/github-comment-repo.png\"\n        srcset=\"/static/73f6664b996ada247dc7d199fd1d0938/c26ae/github-comment-repo.png 158w,\n/static/73f6664b996ada247dc7d199fd1d0938/6bdcf/github-comment-repo.png 315w,\n/static/73f6664b996ada247dc7d199fd1d0938/f058b/github-comment-repo.png 630w,\n/static/73f6664b996ada247dc7d199fd1d0938/40601/github-comment-repo.png 945w,\n/static/73f6664b996ada247dc7d199fd1d0938/78612/github-comment-repo.png 1260w,\n/static/73f6664b996ada247dc7d199fd1d0938/68638/github-comment-repo.png 1510w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><a href=\"https://github.com/apps/utterances\">Install Utterances</a> 이 링크에서 앱을 설치하고 리포지토리를 연결해야한다.<br>\n다음 step 은 캡처하지 못해서 출처로 남긴 블로그를 참고해보자. 😉</p>\n<h3>React로 되어있다면 컴포넌트를 새로 만들어야한다.</h3>\n<p><code class=\"language-text\">src/components/Utterances.js</code> 컴포넌트를 아래와 같이 작성해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Utterances</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>commentsEl <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">status</span><span class=\"token operator\">:</span> <span class=\"token string\">'pending'</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> scriptEl <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'script'</span><span class=\"token punctuation\">)</span>\n    scriptEl<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">status</span><span class=\"token operator\">:</span> <span class=\"token string\">'success'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    scriptEl<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">status</span><span class=\"token operator\">:</span> <span class=\"token string\">'failed'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    scriptEl<span class=\"token punctuation\">.</span>async <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    scriptEl<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">'https://utteranc.es/client.js'</span>\n    scriptEl<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'repo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'jihyangkim/blog-comments'</span><span class=\"token punctuation\">)</span>\n    scriptEl<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'issue-term'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'title'</span><span class=\"token punctuation\">)</span>\n    scriptEl<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'theme'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'github-light'</span><span class=\"token punctuation\">)</span>\n    scriptEl<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'crossorigin'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'anonymous'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>commentsEl<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>scriptEl<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> status <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"comments-wrapper\"</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>status <span class=\"token operator\">===</span> <span class=\"token string\">'failed'</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>Error<span class=\"token punctuation\">.</span> Please <span class=\"token keyword\">try</span> again<span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">{</span>status <span class=\"token operator\">===</span> <span class=\"token string\">'pending'</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>Loading script<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span>div ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>commentsEl<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Utterances</code></pre></div>\n<p>해당 컴포넌트를 원하는 곳에 넣어주면 끝이다!</p>\n<p>후기 github 댓글 설치해서 했는데 약간 로드가 느린듯 하다. 로컬 테스트라서 그런가(?)</p>\n<p>출처 : <a href=\"https://sungchul-p.github.io/gatsby-utterances\">gatsby utterances 댓글 앱 추가</a></p>","frontmatter":{"title":"블로그 댓글 앱 추가하기","date":"June 13, 2024","description":"블로그 댓글 앱 추가하기"}},"previous":{"fields":{"slug":"/june-11-post/"},"frontmatter":{"title":"재시도 포스트"}},"next":null},"pageContext":{"id":"5a2a57a1-7871-5d80-966e-77b72c01f907","previousPostId":"df145a23-004b-59fc-ab51-7240cb2d56b8","nextPostId":null}},"staticQueryHashes":["1935551786","642825376"],"slicesMap":{}}